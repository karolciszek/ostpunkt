{% extends 'base.html' %}
{% load static %}
{% load leaflet_tags %}
{% block content %}
    {% leaflet_js %}
    {% leaflet_css %}
    <link href="{% static "last_point_map/css/map.css" %}" rel="stylesheet"/>
    <script>
     // Locations for pointmap.js. Is this good practice to have global vars like this?
     var icon_url = "{% static 'last_point_map/images/marker.svg' %}";
     var submit_url = "{% url 'get_recent_point' %}";
    </script>
    <script src="{% static 'last_point_map/js/pointmap.js' %}"></script>
    <div class="map-container">
      {% leaflet_map "pointmap" %}
    </div>

    <div class="point-info-container">
      <div class="point-info__table">
        <div class="point-info__row">
          <div class="point-info__col">Coordinates:</div>
          <div class="point-info__col">{{ point.lat }}, {{ point.lng }}</div>
        </div>
        <div class="point-info__row">
          <div class="point-info__col">Check-in time:</div>
          <div class="point-info__col">{{ point.arrival }} (UK time)</div>
        </div>
      </div>
    </div>

    <div class="point-comment">
      <p>
        {{ point.comment }}
      </p>
    </div>
{% endblock %}
